<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>TG's Discord Servers</title>

<!-- Open Graph / Discord Embed -->
<meta property="og:title" content="TG's Discord Servers">
<meta property="og:description" content="This is TG's discord servers and other servers he likes">
<meta property="og:image" content="https://tggamesyt.dev/assets/discord.jpg">
<meta property="og:type" content="website">
<meta name="theme-color" content="#5865F2">

<!-- Favicon -->
<link rel="icon" href="https://tggamesyt.dev/assets/discord.jpg">

<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
:root {
  --bg: #1e1f22;
  --card: #2b2d31;
  --muted: #b5bac1;
  --text: #ffffff;
  --accent: #23a559;
}

* {
  box-sizing: border-box;
  font-family: "Segoe UI", system-ui, sans-serif;
}

body {
  margin: 0;
  background: var(--bg);
  color: var(--text);
}

h1 {
  text-align: center;
  padding: 20px;
}

.category {
  margin: 20px;
}

.category h2 {
  color: var(--muted);
  border-bottom: 1px solid #3f4147;
  padding-bottom: 6px;
}

/* === CARD === */
.server {
  background: var(--card);
  border-radius: 18px;
  margin-top: 16px;
  overflow: hidden;
  box-shadow: 0 8px 24px rgba(0,0,0,.35);
}

/* Banner / header area */
.banner {
  height: 110px;
  background: linear-gradient(135deg, #3a3d44, #2b2d31);
  background-size: cover;
  background-position: center;
}

/* Content */
.server-body {
  padding: 16px;
}

.top {
  display: flex;
  gap: 14px;
  align-items: center;
}

/* Server icon */
.icon {
  width: 64px;
  height: 64px;
  border-radius: 18px;
  background-size: cover;
  background-position: center;
  flex-shrink: 0;
}

/* Info */
.info h3 {
  margin: 0;
  font-size: 20px;
}

.stats {
  margin-top: 6px;
  font-size: 14px;
  color: var(--muted);
}

.stats span {
  margin-right: 14px;
}

.stats .online {
  color: #23a559;
}

/* Join button */
.join {
  margin-top: 16px;
}

.join a {
  display: block;
  width: 100%;
  text-align: center;
  background: var(--accent);
  color: white;
  text-decoration: none;
  padding: 14px;
  border-radius: 999px;
  font-weight: 700;
  font-size: 16px;
}

/* Desktop tweak */
@media (min-width: 700px) {
  .server {
    max-width: 600px;
  }
}
</style>
</head>
<body>

<h1>Discord Servers</h1>
<div id="content"></div>

<script>
// === INVITE JSON ===
const INVITES = {
  "My servers": {
    "tg": "8v6NvACFX5",
    "redstone": "eH4ZyUVfpr",
    "hytale": "Qzfq4XAsx4"
  },
  "Favourite servers": {
    "icebluebird": "icebluebird",
    "peutron": "MrcrsKPJgR",
    "flashz": "axxMspEwfP",
    "mrbeastgaming": "mrbeastgaming",
    "kasaisora": "kasaisora",
    "locksoul": "rnJEQEArt3"
  }
};

// === SHORTCUT HANDLER ===
const shortcut = location.search.replace("?", "");
if (shortcut) {
  for (const group of Object.values(INVITES)) {
    if (group[shortcut]) {
      location.href = "https://discord.gg/" + group[shortcut];
    }
  }
}

// === FETCH + RENDER ===
const container = document.getElementById("content");

async function loadInvite(code) {
  const res = await fetch(
    `https://discord.com/api/v10/invites/${code}?with_counts=true`
  );
  if (!res.ok) return null;
  return res.json();
}

(async () => {
  for (const [groupName, servers] of Object.entries(INVITES)) {
    const cat = document.createElement("div");
    cat.className = "category";
    cat.innerHTML = `<h2>${groupName}</h2>`;
    container.appendChild(cat);

    for (const code of Object.values(servers)) {
      const data = await loadInvite(code);
      if (!data || !data.guild) continue;

      const icon = data.guild.icon
        ? `https://cdn.discordapp.com/icons/${data.guild.id}/${data.guild.icon}.png?size=128`
        : "";

      const el = document.createElement("div");
      el.className = "server";
      el.innerHTML = `
        <div class="banner"></div>
        <div class="server-body">
          <div class="top">
            <div class="icon" style="background-image:url('${icon}')"></div>
            <div class="info">
              <h3>${data.guild.name}</h3>
              <div class="stats">
                <span class="online">● ${data.approximate_presence_count ?? 0} Online</span>
                <span>● ${data.approximate_member_count} Members</span>
              </div>
            </div>
          </div>
          <div class="join">
            <a href="https://discord.gg/${code}">Join</a>
          </div>
        </div>
      `;
      cat.appendChild(el);
    }
  }
})();
</script>

</body>
</html>
